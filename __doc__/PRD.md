# 大眾運輸夥伴

## **為獨行旅客和通勤者提供的綜合性大眾運輸資訊應用程式**

團隊：獨立開發  
貢獻者：Sam Chiou（全端開發者）  
資源：[GitHub 儲存庫], [TDX API 文件], [TGOS 文件]  
狀態：**草稿**  
最後更新：2025 年 3 月 4 日

---

# 問題定位

目前的大眾運輸應用程式（Google Maps、官方交通 App）缺乏特定路線搜尋功能且使用者介面不友善。獨行旅客和通勤者需要一個更簡潔的方式來獲取大眾運輸資訊，包括公車路線、火車時刻表和共享單車位置。

## 解決方案概述

建立一個統一的網頁應用程式，整合 TDX 和 TGOS 的公共運輸數據，透過直觀的地圖介面呈現。應用程式將著重於特定路線搜尋和即時資訊顯示，並具有跨平台擴展的潛力。

## 使用情境

當一位獨行旅客抵達新的城市並需要使用大眾運輸時，目前他們必須：

1. 在多個應用程式間切換以尋找特定路線資訊
2. 面對官方交通網站不友善的使用者介面
3. 缺乏完整的可用運輸選項資訊

使用大眾運輸夥伴後，他們可以：

1. 直接搜尋特定公車/火車路線
2. 在互動式地圖上查看即時運輸資訊
3. 無縫存取共享單車站點資訊

## 目標

1. 建立友善的網頁介面以搜尋特定交通路線
2. 整合 TDX 即時公共運輸數據
3. 使用 DeckGL 實作互動式地圖
4. 透過高效的資料快取達到可靠的效能
5. 展示全端開發能力

## 非目標

1. 完全複製 Google Maps 功能（專注於特定運輸功能）
2. 完整離線功能（需要持續的資料更新）
3. 社交功能或使用者生成內容
4. 國際運輸系統支援（專注於台灣）

# 解決方案規劃

## 核心功能

目前規劃：

1. DeckGL 互動式地圖介面

   - 使用 TGOS 資料的基礎地圖層
   - 運輸路線視覺化
   - 即時車輛位置

2. 特定路線搜尋功能

   - 公車路線搜尋
   - 火車時刻表搜尋
   - 站點/停靠站資訊

3. 即時資訊顯示

   - 公車到站時間
   - 火車時刻表
   - Ubike 可用性

4. 基礎資料快取系統
   - TDX 資料快取
   - 地圖圖磚快取

未來考慮：

1. 透過 Capacitor 實現跨平台支援
2. 透過 MCP 架構整合 AI 代理
3. 使用者偏好和最愛路線
4. 離線地圖支援
5. 多城市支援

## 核心邏輯

1. 資料更新規則：

   - 即時公車資料：每 30 秒
   - 火車時刻表：每日更新
   - Ubike 可用性：每 5 分鐘

2. 快取邏輯：

   - 本地儲存靜態路線資料
   - 快取常用區域的地圖圖磚
   - 實作 TDX API 限流

3. 錯誤處理：
   - API 失敗時回退到快取資料
   - 清楚顯示過期資訊通知
   - 功能優雅降級

# 發布計畫

## 重要里程碑

| 目標日期   | 里程碑   | 描述               | 完成標準                          |
| :--------- | :------- | :----------------- | :-------------------------------- |
| 2025-04-01 | ✅ MVP   | 基礎地圖和路線搜尋 | 功能性地圖顯示和 TDX 整合         |
| 2025-05-01 | 🛑 Alpha | 即時資料整合       | 成功的即時更新和快取              |
| 2025-06-01 | 🛑 Beta  | 效能優化           | 回應時間 < 2 秒，快取命中率 > 80% |
| 2025-07-01 | 🛑 發布  | 公開網頁版本       | 穩定效能和完整功能集              |

## 技術實作

前端：

- React + Vite 快速開發
- TailwindCSS 樣式設計
- DeckGL 地圖視覺化

後端：

- Express 伺服器處理 API
- Prisma 資料管理
- TileServerGL 地圖圖磚

基礎設施：

- AWS 部署
- CI/CD 流程
- 監控和日誌

## 風險評估

1. 技術風險：

   - TDX API 可靠性和限流
   - 地圖渲染效能
   - 資料同步挑戰

2. 資源限制：

   - 單人開發團隊
   - 有限時間（業餘專案）
   - AWS 主機成本

3. 緩解策略：
   - 高效的快取系統
   - 漸進式功能發布
   - 定期測試和監控

## 待解決問題

1. 不同類型資料的最佳快取策略是什麼？
2. 如何處理尖峰使用期間的 API 限流？
3. 應該追蹤哪些效能指標？

## 常見問題

問：為什麼不使用現有的解決方案如 Google Maps？
答：大眾運輸夥伴專注於現有解決方案未能很好服務的特定公共運輸功能，如特定路線搜尋和即時資訊顯示。

問：應用程式如何處理服務中斷？
答：應用程式將實作強大的快取系統和清晰的資料時效性通知，在即時更新不可用時回退到快取資料。

問：開發優先順序是什麼？
答：主要專注於提供可靠的網頁版本核心運輸功能。跨平台支援和 AI 整合為次要優先順序。

# 附錄

## 變更記錄 {#變更記錄}

列出重要的決策或更新以供未來參考。包含相關人員和連結到筆記文件（如果有）。

| 日期 | 描述 |
| :--- | :--- |
|      |      |
|      |      |

##

## 待解決問題

追蹤待解決問題和答案。

## 常見問題

選擇性地包含常見問題以回答高層級問題，使人們更容易理解專案目的而不會迷失在細節中。

影響清單

- 權限
- 報告
- 定價
- API
- 全球

## 範例 PRD

TK
